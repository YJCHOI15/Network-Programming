λ³Έ ν”„λ΅μ νΈλ” **TCP μ†μΌ“ ν”„λ΅κ·Έλλ°**μ„ κΈ°λ°μΌλ΅ ν• ν΄λΌμ΄μ–ΈνΈ-μ„λ²„ κµ¬μ΅°μ ν”„λ΅κ·Έλ¨μ…λ‹λ‹¤.  
λ©€ν‹°ν”„λ΅μ„Έμ¤λ¥Ό ν™μ©ν•μ—¬ κ³„μ‚° μν–‰, ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ²λ¦¬, κ²°κ³Ό μ €μ¥ λ° μ΅°ν κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

ν΄λΌμ΄μ–ΈνΈλ” μ„Έ κ°€μ§€ λ¨λ“ μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•μ—¬ μ„λ²„μ— μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤:

- **save**: μ‚¬μ©μκ°€ μ…λ ¥ν• μμ‹μ„ μ„λ²„μ—μ„ κ³„μ‚°ν•κ³  ν•΄λ‹Ή κ²°κ³Όλ¥Ό IDμ™€ ν•¨κ» μ €μ¥ν•©λ‹λ‹¤.

  ![Image](https://github.com/user-attachments/assets/e9b18042-3d22-428f-8d9f-8af2ea867826)
  
- **load**: μ§€μ •ν• IDλ΅ μ €μ¥λ λ¨λ“  μμ‹ κ²°κ³Όλ¥Ό μ”μ²­ν•μ—¬ ν΄λΌμ΄μ–ΈνΈλ΅ κ°€μ Έμµλ‹λ‹¤.

  ![Image](https://github.com/user-attachments/assets/5fdc5634-b74d-4e97-9480-ccc2fc4635b9)
  
- **quit**: μ„λ²„μ—κ² μΆ…λ£ μ‹ νΈλ¥Ό μ „μ†΅ν•λ©°, μ„λ²„μ™€ ν΄λΌμ΄μ–ΈνΈ λ¨λ‘ μΆ…λ£λ©λ‹λ‹¤.

  ![Image](https://github.com/user-attachments/assets/10debd6d-afb3-4078-97f7-d42370e2f97a)

---

## hw6_client.c

### λ™μ‘ κ³Όμ •

1. **Mode μ…λ ¥ μ”μ²­**
   - μ‹¤ν–‰ μ‹ `Mode:`λ¥Ό μ¶λ ¥ν•κ³  μ‚¬μ©μλ΅λ¶€ν„° λ¨λ“λ¥Ό μ…λ ¥λ°›μµλ‹λ‹¤.
   - μ§€μ›ν•λ” λ¨λ“λ” `save`, `load`, `quit`μ…λ‹λ‹¤.
   - κ·Έ μ™Έ μ…λ ¥ μ‹ λ‹¤μκ³Ό κ°™μ΄ μ¶λ ¥ ν›„ μΆ…λ£λ©λ‹λ‹¤:

     ```
     Mode: aaaa
     supported mode: save load quit
     ```

2. **ID μ…λ ¥**
   - `save` λλ” `load` λ¨λ“μΌ κ²½μ° `ID:`λ¥Ό μ¶λ ¥ν•κ³  μ…λ ¥μ„ λ°›μµλ‹λ‹¤.
   - μ…λ ¥λ ID κΈΈμ΄κ°€ 4κ°€ μ•„λ‹λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ¶λ ¥ ν›„ μΆ…λ£λ©λ‹λ‹¤:

     ```
     ID: aaaaa
     error: ID length must be 4
     ```

3. **Save λ¨λ“**
   
   - `iovec` λ°°μ—΄ κµ¬μ„±:
     - `iov[0]`: mode
     - `iov[1]`: ID
     - `iov[2]`: κ³„μ‚° μ •λ³΄ (κΈ°μ΅΄ κ³Όμ  ν•μ‹κ³Ό λ™μΌ)
   - μ—°μ‚°μ μκ°€ 0 λ―Έλ§μ΄λ©΄ λ‹¤μκ³Ό κ°™μ΄ μ¶λ ¥ ν›„ μΆ…λ£λ©λ‹λ‹¤:

     ```
     Overflow will happen(<operand_count>)
     ```

   - μ„λ²„λ΅λ¶€ν„° μμ‹ ν• κ²°κ³Όλ” λ‹¤μ ν•μ‹μΌλ΅ μ¶λ ¥λ©λ‹λ‹¤:

     ```
     Operation result: <κ³„μ‚°κ²°κ³Ό>
     ```

5. **Load λ¨λ“**
   
   - `iovec` λ°°μ—΄ κµ¬μ„±:
     - `iov[0]`: mode
     - `iov[1]`: ID
     - `iov[2]`: μ‚¬μ©ν•μ§€ μ•μ
   - μ„λ²„λ΅λ¶€ν„° IDμ— ν•΄λ‹Ήν•λ” μμ‹ κ²°κ³Ό λ¬Έμμ—΄ λλ” `Not exist`λ¥Ό μμ‹ ν•μ—¬ μ¶λ ¥ ν›„ μΆ…λ£λ©λ‹λ‹¤.

7. **Quit λ¨λ“**
   
   - `iovec` λ°°μ—΄ κµ¬μ„±:
     - `iov[0]`: mode
     - `iov[1]`, `iov[2]`: μ‚¬μ©ν•μ§€ μ•μ
   - μ„λ²„μ—κ² μΆ…λ£ μ‹ νΈλ¥Ό μ „μ†΅ν•κ³  ν΄λΌμ΄μ–ΈνΈ μΆ…λ£

---

## π–¥οΈ hw6_server.c

### μ‹¤ν–‰ λ°©λ²•

`hw6_server <PORT>` ν•μ‹μΌλ΅ μ‹¤ν–‰ν•©λ‹λ‹¤.

### λ™μ‘ κ³Όμ •

1. **μ„λ²„ μ΄κΈ°ν™”**
   - μ§€μ • ν¬νΈλ΅ TCP μ„λ²„ μƒμ„±
   - `pipe()` 2κ° μƒμ„± ν›„ `fork()` νΈμ¶
     - **λ¶€λ¨ ν”„λ΅μ„Έμ¤**: ν΄λΌμ΄μ–ΈνΈ μ²λ¦¬
     - **μμ‹ ν”„λ΅μ„Έμ¤**: μμ‹ μ €μ¥/μ΅°ν μ²λ¦¬

2. **Multiplexing μ²λ¦¬**
   - λ¶€λ¨ ν”„λ΅μ„Έμ¤λ” `select()`λ¥Ό μ‚¬μ©ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ I/O μ²λ¦¬ (timeout 5μ΄)
   - ν΄λΌμ΄μ–ΈνΈ μ—°κ²° μ‹:

     ```
     connected client : <file descriptor>
     ```

   - ν΄λΌμ΄μ–ΈνΈ μΆ…λ£ μ‹:

     ```
     closed client : <file descriptor>
     ```

3. **ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ²λ¦¬**
   - `readv()`λ΅ `mode`, `ID`, κ³„μ‚° λ°μ΄ν„° μμ‹ 

   #### save λ¨λ“
   - μ¶λ ¥:
     ```
     save to <ID>
     ```
   - κ³„μ‚° ν›„ μμ‹=`κ²°κ³Ό` λ¬Έμμ—΄μ„ μƒμ„±ν•κ³  νμ΄ν”„λ΅ μμ‹μ—κ² μ „λ‹¬

   #### load λ¨λ“
   - μ¶λ ¥:
     ```
     load from <ID>
     ```
   - μμ‹μ—κ² μ”μ²­ μ „λ‹¬ β†’ IDμ— ν•΄λ‹Ήν•λ” μμ‹λ“¤ λλ” `Not exist` λ¬Έμμ—΄μ„ λ°›μ•„ ν΄λΌμ΄μ–ΈνΈλ΅ μ „μ†΅

   #### quit λ¨λ“
   - μ¶λ ¥:
     ```
     quit
     ```
   - μμ‹μ—κ² μΆ…λ£ λ…λ Ή μ „μ†΅ β†’ μμ‹ μΆ…λ£
   - λ¶€λ¨λ„ μ΄ν›„ ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μΆ…λ£ν•¨

---

## ν†µμ‹  νλ¦„ μ”μ•½

1. ν΄λΌμ΄μ–ΈνΈ μ‹¤ν–‰ β†’ μ„λ²„ μ—°κ²° μ”μ²­
2. ν΄λΌμ΄μ–ΈνΈκ°€ `mode`, `ID`, (ν•„μ”μ‹) κ³„μ‚° λ°μ΄ν„° μ „μ†΅
3. μ„λ²„λ” λ¨λ“μ— λ”°λΌ μ²λ¦¬:
   - κ³„μ‚° ν›„ κ²°κ³Ό μ €μ¥ (save)
   - μ €μ¥λ κ²°κ³Ό μ΅°ν (load)
   - μΆ…λ£ μ²λ¦¬ (quit)
4. ν΄λΌμ΄μ–ΈνΈλ΅ κ²°κ³Ό μ „μ†΅ ν›„ μ—°κ²° μΆ…λ£

---

## λΉλ“ λ° μ‹¤ν–‰κ²°κ³Ό

### μ‹¤ν–‰κ²°κ³Ό1

![Image](https://github.com/user-attachments/assets/430ef9a5-3147-4c7d-bad7-9618f40320d9)

### μ‹¤ν–‰κ²°κ³Ό2

![Image](https://github.com/user-attachments/assets/8d64fd29-9425-4019-a923-65a46ddcb2fd)

### μ²λ¦¬μ‚¬ν•­1: modeκ°€ μλ„ν• λ¬Έμ μ™Έμ κ°’μ„ λ°›μ•μ„ κ²½μ°

![Image](https://github.com/user-attachments/assets/4379ca4a-3f63-4020-9265-45931ee50808)

### μ²λ¦¬μ‚¬ν•­2: IDμ κΈΈμ΄κ°€ 4bytesκ°€ μ•„λ‹ μ‹ μ•„λμ™€ κ°™μ΄ μ²λ¦¬

![Image](https://github.com/user-attachments/assets/19c7e708-2039-4f0a-bb24-d707d41bb243)

### μ²λ¦¬μ‚¬ν•­3: Load ν–μ„ λ• ν•΄λ‹Ή IDλ΅ κΈ°λ΅λ λ°μ΄ν„°κ°€ μ—†λ‹¤λ©΄ Not existλ¥Ό μ „μ†΅

![Image](https://github.com/user-attachments/assets/49ce576e-3396-4f04-9776-6efd45f9ca11)

### μ²λ¦¬μ‚¬ν•­4: Operand countκ°€ overflowκ°€ μΌμ–΄λ‚λ” κ°’ (0 μ΄ν•)μ„ λ°›μ•λ‹¤λ©΄, ν΄λΌμ΄μ–ΈνΈλ” close()ν•κ³  μΆ…λ£

![Image](https://github.com/user-attachments/assets/3bcaba48-b2a2-4b43-8d60-417760f5e2f0)

## μ°Έκ³  μ‚¬ν•­

- μ‚¬μ©λ μ£Όμ” μ‹μ¤ν… μ½: `iovec`, `pipe`, `fork`, `select`, `readv`, `writev`
- μμ‹ ν”„λ΅μ„Έμ¤λ” νμΌμ΄ μ•„λ‹ **λ©”λ¨λ¦¬ λ‚΄ λ¬Έμμ—΄ λ°°μ—΄**λ΅ μμ‹ κΈ°λ΅μ„ κ΄€λ¦¬
- μ„λ²„ μΆ…λ£ μ‹ μ €μ¥ λ°μ΄ν„°λ” μ μ§€λμ§€ μ•μ
